define(["core/Logger","core/vendor/jquery.min"],function(e,t){var r={timer:null,interval:1,smartBomb:{},log:function(t,n,r,i){},handleBackgroundScriptRequest:function(e,t){var n={},r=this;switch(e.message){case"smartBomb":r.init(e.smartBomb)}return n},init:function(e){this.smartBomb=e,clearInterval(this.timer),this.timer=setInterval(this.tick.bind(this),this.interval*1e3)},bomb:function(){this.smartBomb.multimedia&&this.bombMultimedia(),this.smartBomb.images&&this.bombImages(),this.smartBomb.forms&&this.bombForms(),this.smartBomb.logins&&this.bombLogins()},bombMultimedia:function(){var e=this;t("embed,object,applet,canvas,video,iframe").each(function(){e.replace(t(this))})},bombImages:function(){var e=this;t("img").each(function(){e.replace(t(this))})},bombForms:function(){var e=this;t("input,select,textarea").each(function(){e.replace(t(this))})},bombLogins:function(){var e=this;t("input[type=password]").each(function(){e.replace(t(this))})},replace:function(e){if(e.attr("class")=="StayFocusd-smartBombed")return!1;var t=e.attr("width"),n=e.attr("height"),r=e.css("display");if(r=="none")return!1;var i='<div style="height:'+n+"px;width:"+t+"px;background:url("+chrome.extension.getURL("common/img/smartBombBG.png")+') #000" class="StayFocusd-smartBombed"></div>';e.replaceWith(i)},tick:function(){this.bomb()}};return r});