Type.registerNamespace("_y");_y.$1G=function(n,t,i,r,u,f,e,o,s){this.$$d_$2L1=Function.createDelegate(this,this.$2L1);this.$$d_$8iP=Function.createDelegate(this,this.$8iP);this.$$d_$8ff=Function.createDelegate(this,this.$8ff);this.$$d_$6vH=Function.createDelegate(this,this.$6vH);this.$$d_$9ES=Function.createDelegate(this,this.$9ES);this.$$d_$9D3=Function.createDelegate(this,this.$9D3);this.$$d_$Cq=Function.createDelegate(this,this.$Cq);this.$$d_$5Gi=Function.createDelegate(this,this.$5Gi);this.$$d_$3v=Function.createDelegate(this,this.$3v);this.$$d_$7VK=Function.createDelegate(this,this.$7VK);_y.$1G.initializeBase(this,[n]);this.$2YT=t;this.$1He=i;this.$KO=r;this.$gy=u;this.$2l3=f;this.$S=e;$4cW(this,this.get_$J());this.$9I=o;this.$1D=s};function $6ns(n,t,i,r){t=n.$DJ.removePStyles(t);n.$J6&&n.$J6.parentNode&&n.$J6.parentNode.removeChild(n.$J6);n.$J6=document.createElement("iframe");n.$J6.style.display="none";document.body.appendChild(n.$J6);var u=null;n.$J6.contentDocument?u=n.$J6.contentDocument:n.$J6.contentWindow&&(u=n.$J6.contentWindow.document);if(u){u.open();u.write(t);u.close();i.val=$(u.documentElement).find("head");r.val=$(u.documentElement).find("body")}else{i.val=null;r.val=null}}function $6nt(n){if(!n.$C3&&n.$3V&&n.$3V.get_$J()){var t=n.$3V.get_$J().get(0);if(n.$r9){var i=parseInt(n.$r9);if(n.$1D.get_$7i()){if(t.contentWindow&&t.contentWindow.document&&t.contentWindow.document.body){t.tabIndex=1e4;t.contentWindow.document.documentElement.tabIndex=-1;t.contentWindow.document.body.tabIndex=i;t.contentWindow.document.body.style.outline="none"}}else t.tabIndex=i}t.setAttribute("aria-role","textbox")}}function $6np(n){n.$N7()}function $4cO(n){n.$D6();n.$4hj(!n.$C3);n.$yA&&$4cR(n);n.get_$J().find("textarea").keydown(n.$$d_$8ZG);$6nt(n);$6nv(n);$6nu(n);n.$36f();n.set_$CL(!0)}function $6nu(n){var i=n.$3V.get_$J()[0];var t=i.contentWindow;if(t){var r=t;r.InlineImageLoader=window.self.InlineImageLoader}}function $6nv(n){if(n.$1D.get_$7i())for(var r=n.$3V.get_$J().get(0),i=["scrollbar-base-color","scrollbar-face-color","scrollbar-shadow-color","scrollbar-highlight-color","scrollbar-3dlight-color","scrollbar-darkshadow-color","scrollbar-track-color","scrollbar-arrow-color"],t=0;t<i.length;t++)r.contentWindow.document.documentElement.style[i[t]]=$6nq(n,window.document.body,i[t])}function $6nq(n,t,i){return window.self.getComputedStyle!==undefined?window.getComputedStyle(t)[i]:t.currentStyle[i]?t.currentStyle[i]:""}function $gw(n,t,i,r){var u=new _o365c.$P;u.$1z=t;u.set_$T(i);u.$5a=r;return u}function $2WF(n,t){n.$Wk.set_$15(!t);t||n.$DJ.deactivateFormatBar();n.$vz.set_$15(!t)}function $6no(n){if(n.$3V){n.$3V.remove_$Q8(n.$$d_$3v);n.$3V.get_$J().unbind("load");n.$7U.remove_$Q8(n.$$d_$3v)}var t=$1Nz(n);n.get_$y4()&&t&&$4cS(n,t);t&&t.unbind("paste",n.$$d_$2L1);t&&($8(_a.$5m.$g)||_a.$5m.$g.$4sD(t))}function $1Nz(n){if(!n.$3V)return null;var t=n.$3V.get_$J().get(0);try{if(!t.contentWindow||!t.contentWindow.document||!t.contentWindow.document.body)return null}catch(i){return null}return $(t.contentWindow.document.body)}function $6nr(n){if(!n.$3V)return null;var t=n.$3V.get_$J().get(0);try{if(!t.contentWindow||!t.contentWindow.document||!t.contentWindow.document.getElementsByTagName("Head")||!t.contentWindow.document.getElementsByTagName("Head")[0])return null}catch(i){return null}return $(t.contentWindow.document.getElementsByTagName("Head")[0])}function $4cS(n,t){t.unbind("copy",n.$$d_$Cq);t.unbind("cut",n.$$d_$Cq);t.unbind("dragstart",n.$$d_$Cq)}function $4cR(n){if(!n.$1G1){var t=$1Nz(n);if(t){t.bind("paste",n.$$d_$7Qt);t.bind("cut",n.$$d_$7Qt);t.keyup(n.$$d_$53l);n.$1G1=!0;_js.Trace.logInfo(_a.$0.$3P,"RichTextEditor has key handlers bound")}else _js.Trace.logInfo(_a.$0.$3P,"RichTextEditor body is not available to bind key handlers.")}}function $4cP(n){if(n.$1G1){var t=$1Nz(n);if(t){t.unbind("paste");t.unbind("cut");t.unbind("keyup");n.$1G1=!1;_js.Trace.logInfo(_a.$0.$3P,"RichTextEditor has key handlers unbound")}else _js.Trace.logInfo(_a.$0.$3P,"RichTextEditor body is not available to unbind key handlers.")}}function $4cQ(n,t){var i=t.get(0);if(i&&i.offsetParent){var r=t.offsetParent().height()+_b.$DS.$wC(t.offsetParent().css("padding-top"))-i.offsetTop-1;r<n.$1JI&&(r=n.$1JI);n.$K1.get_$J().height(r)}}_y.$1G.prototype={$1D:null,$DJ:null,$Wk:null,$vz:null,$3V:null,$7U:null,$K1:null,$162:null,$qC:null,$1DI:null,$2ZI:!1,$1ga:!1,$1DH:null,$2PW:!1,$S0:null,$1Ml:null,$217:!1,$1oA:!1,$1gb:!1,$2YT:null,$1He:null,$Ls:null,$3NF:null,$KO:null,$gy:null,$2l3:null,$J6:null,$S:null,$1G1:!1,$9I:null,get_$33P:function(){return this.$S0},set_$33P:function(n){var t=this.$S0===n;this.$S0=n;this.$217&&!$8(n)&&this.$3v(null);t&&$Q(this,"RawContent");return n},get_$660:function(){return this.$1Ml},set_$660:function(n){this.$1Ml=n;return n},get_$1N:function(){return this.$7U?this.$7U.get_$J().val():""},set_$1N:function(n){this.$7U&&this.$7U.set_$1N(n);return n},get_$12A:function(){if(!this.$1D.get_$7i()||Number.parseInvariant($.browser.version)>8)return this.$7U.get_$J().prop("selectionStart");else{var t=this.get_$1N().length;if(!t)return 0;var r=document.selection.createRange();var n=this.$7U.get_$J().get(0).createTextRange();var i=n.duplicate();n.moveToBookmark(r.getBookmark());i.collapse(!1);return n.compareEndPoints("StartToEnd",i)>-1?t:-n.moveStart("character",-t)}},get_$1Mj:function(){return!this.$1D.get_$7i()||Number.parseInvariant($.browser.version)>8?this.$7U.get_$J().prop("selectionEnd"):this.get_$12A()+document.selection.createRange().text.length},$D6:function(){if(!this.$37L)if(this.$K1&&!this.$yA){var n=this.$K1.get_$J();if(n.get(0)&&n.offsetParent())if(this.$1D.get_$7i()){var t=this;_js.$K.get_$L().$21(_a.$0.$3P,"RichTextEditor.Resize",function(){$4cQ(t,n)},this.$1D.get_$1Tg()?0:500)}else $4cQ(this,n)}else this.$yA&&this.$Pk&&this.$36f()},$N7:function(){this.$7U&&this.$C3?this.$7U.$N7():$8(this.$DJ)?this.$2PW=!0:this.$DJ.focus();return!0},$6uh:function(){},$Fe:function(){_js.Trace.logInfo(_a.$0.$d,"RichTextEditor.PostTransitionIn");_z.$81.prototype.$Fe.call(this);this.$yA&&$4cR(this);this.$36f()},$36f:function(){if(this.$yA){var t=null;if(this.$C3)if(this.$7U)t=this.$7U.get_$J();else{this.$Yj=!0;_js.Trace.logInfo(_a.$0.$3P,"Skip SetHeight since we are in plain text mode and the text area is not ready yet.")}else t=$1Nz(this);if(this.$Pk&&t&&this.get_$b()&&!this.get_$b().$bk){var n=t[0].scrollHeight;if(n)if(this.$K1){var i=this.$K1.get_$J().get(0);if(i&&i.offsetParent){var r=$3Jc(this,i);if(n>r){if(n!==this.$mm){n+=17;this.$mm=n;this.$K1.get_$J().height(n);_js.Trace.logInfo(_a.$0.$3P,"RichTextEditor set height to new scroll height "+n+" and updated last scroll height.")}}else{this.$K1.get_$J().height(r);_js.Trace.logInfo(_a.$0.$3P,"RichTextEditor set full screen height "+r+" since scroll height "+n+" is less.")}}else{this.$Yj=!0;_js.Trace.logInfo(_a.$0.$3P,"RichTextEditor is missing wrapper element or wrapper element offset parent, set the deferred set height flag.")}}else{this.$Yj=!0;_js.Trace.logInfo(_a.$0.$3P,"RichTextEditor is missing editor wrapper element, set the deferred set height flag.")}else{this.$Yj=!0;_js.Trace.logInfo(_a.$0.$3P,"RichTextEditor has scroll height 0, which means it is not visible yet, set the deferred set height flag.")}}else{this.$Yj=!0;_js.Trace.logInfo(_a.$0.$3P,"Remember a deferred request to set height")}}else _js.Trace.logInfo(_a.$0.$3P,"Skip SetHeight since the RichTextEditor is not extendable")},$8tC:function(){this.$36f()},$1OX:function(n,t){if(this.$7U&&this.$C3){var y=document.activeElement;var o=this.get_$12A();var s=this.get_$1Mj();this.set_$1N(this.get_$1N()+n);if(!this.$1D.get_$7i()||Number.parseInvariant($.browser.version)>8){this.$7U.set_$uY(o);this.$7U.set_$1xi(s)}else{var u=document.selection.createRange();u.collapse(!0);u.moveStart("character",o-this.get_$12A());u.moveEnd("character",s-this.get_$1Mj());u.select()}y.focus();return}if($8(this.$3V)||$8(this.$DJ)){this.$1DH=n;return}this.$DJ._storeSelection();var p=$6nr(this);var f=$1Nz(this);var r;var i;var h,c;$6ns(this,n,h={val:r},c={val:i});r=h.val;i=c.val;r&&r.children()&&p.append(r.children());if(i&&i.children()){this.$1D.get_$7i()?f.append($("<P></P>")):f.append($("<P><BR></P>"));var e=$("<div />");var l=i.attr("dir");l&&e.attr("dir",l);if(t){var a=!1;if(this.$K1){var v=this.$K1.get_$J().get(0);if(v){e.css("color",$(v).css("color"));a=!0}}a||_js.Trace.logError(_a.$0.$3P,"$ItemTextColor isn't applied to original message.")}e.append(i.contents());f.append(e)}else f.append(n);this.$DJ._restoreSelection()},$36d:function(n){this.$1oA=n;if($8(this.$DJ)){this.$1gb=!0;_js.Trace.logInfo(_a.$0.$3P,"Cached printing restriction {0} since the RTE is not ready yet.",n)}else if(n){this.$DJ.applyNoPrintStyles();_js.Trace.logInfo(_a.$0.$3P,"Applied printing restriction with no print stylesheet.")}else{this.$DJ.removeStyleSheet("owaPrintStyle");_js.Trace.logInfo(_a.$0.$3P,"Removed printing restriction.")}},$4hj:function(n){if(n&&this.$3V&&this.$3V.get_$J()[0]&&this.$3V.get_$J()[0].contentWindow&&!this.$Ls||!n&&this.$7U){if(n){for(var i=this.$3V.get_$J()[0].contentWindow.document,e=!1,r=0;r<i.documentElement.childNodes.length;r++)if(i.documentElement.childNodes[r].nodeName.toLowerCase()==="body"){e=!0;break}if(!e){for(var o=i.createElement("body"),u=0;u<this.$3NF.length;u++){var s=this.$3NF[u];o.setAttribute(s.name,s.value)}i.documentElement.appendChild(o)}this.$Ls=new _y.$1G.$65S(i.body)}var f=new _o365c.$1V;var t=new(_0365f.$s.$$(_o365c.$P));this.$EK&&t.$H($gw(this,2,"ENTER",this.$EK));this.$vS&&t.$H($gw(this,4,"S",this.$vS));if(this.$DS){var h=$gw(this,2,"S",this.$DS);h.$23V=!0;t.$H(h)}this.$Cv&&t.$H($gw(this,0,"ESC",this.$Cv));this.$11A&&t.$H($gw(this,2,"K",this.$11A));if(n){var c=this;t.$H($gw(this,2,"B",new _C(function(){c.$DJ._execCommand("bold")},_a.$0.$3P)));var l=this;t.$H($gw(this,2,"I",new _C(function(){l.$DJ._execCommand("italic")},_a.$0.$3P)));var a=this;t.$H($gw(this,2,"U",new _C(function(){a.$DJ._execCommand("underline")},_a.$0.$3P)));var v=this;t.$H($gw(this,2,"L",new _C(function(){v.$DJ._execCommand("createlink")},_a.$0.$3P)))}t.$H($gw(this,2,"F6",this.$KO.get_$1Xo()));t.$H($gw(this,3,"F6",this.$KO.get_$1Xp()));t.$H($gw(this,2,"R",_o365c.$P.$2R2));var y=this;t.$H($gw(this,2,"N",new _C(function(){y.$S.$8oV(_y.$bH,new _y.$bH)},_a.$0.$3P)));f.set_$26(t.$7V());if(n){this.$Ls.set_$q([f]);this.$Ls.set_$7a(this.$3V);this.$Ls.$5F()}else{this.$7U.set_$q([f]);this.$7U.$5F()}}$4cV(this,n)},$9CD:function(n){if(n&&this.$Ls){this.$3NF=this.$3V.get_$J()[0].contentWindow.document.body.attributes;this.$Ls.set_$q(null);this.$Ls.$1M();this.$Ls=null}else this.$7U&&this.$7U.set_$q(null);$4cX(this,n)},$5rA:function(){if(this.$3V){var n=$(this.$3V.get_$J().get(0));n.css("border-style","solid")}},$6sU:function(n){this.$36d(n)},$4K:function(){_js.$6.prototype.$4K.call(this);if(!$8(this.$e)){this.$Wk=this.$e.$11("EditorFormatBar");if($8(this.$Wk))throw Error.invalidOperation("A format bar with ID EditorFormatBar is required for the editor to work.");this.$vz=this.$e.$11("ClickableArea");if(!this.$vz)throw Error.invalidOperation("A clickable area with ID ClickableArea is required for the editor to work.");var n=this;this.$vz.get_$J().focus(function(){$6np(n)});this.$vz.$8D(32);this.$3V=this.$e.$11("EditorBody");this.$3V.set_$Me(2);this.$7U=this.$e.$11("TextEditorBody");if(this.$1D.get_$7i()){var t=this;this.$7U.get_$J().focus(function(){t.$7U.get_$J().focus()})}this.$K1=this.$e.$11("EditorWrapper");if($8(this.$3V))throw Error.invalidOperation("A body with ID EditorBody is required for the editor to work.");this.$162=this.$e.$11("divRszMnu");if($8(this.$162))throw Error.invalidOperation("A resize menu with ID divRszMnu is required for the editor to work.");this.$Wk.get_$J()[0].id="EditorFormatBar";this.$3V.get_$J()[0].id="EditorBody";this.$162.get_$J()[0].id="divRszMnu";this.$162.set_$15(!0);if(this.$1D.get_$ry()){this.$3V.get_$J().load(this.$$d_$7VK);this.$7U.get_$J().load(this.$$d_$7VK)}else{this.$3V.add_$Q8(this.$$d_$3v);this.$7U.add_$Q8(this.$$d_$3v)}this.$3V.get_$J().load(this.$$d_$5Gi)}},$I4:function(){this.set_$CL(!1);$4cP(this);if(this.$1D.get_$rk()){var n=this.get_$J().find("iframe");n.length>0&&n[0].contentWindow&&this.$7N7();this.$9CD(!this.$C3);this.$4kn()}if(this.$J6){document.body.removeChild(this.$J6);this.$J6=null}_js.$6.prototype.$I4.call(this)},$th:function(){_js.$6.prototype.$th.call(this);this.set_$7("RichTextEditorView")},$7N7:function(){if(this.$C3&&this.$7U){var n=this.get_$1N();this.$S0!==n&&(this.$S0=n);$Q(this,"RawContent")}else if(!$8(this.$DJ)){var t=this.$DJ.getHtml(!0,!1);if(this.$S0!==t){this.$S0=t;$Q(this,"RawContent")}}},$7Oo:function(){var n=null;this.$C3?n=this.get_$1N():$8(this.$DJ)||(n=this.$DJ.getTextContent());if(this.$1Ml!==n){this.$1Ml=n;$Q(this,"TextContent")}},$7Ix:function(){this.$C3?this.set_$Cc(this.get_$1N()):$8(this.$DJ)||this.set_$Cc(this.$DJ.getHtml(!1,!0))},$5r9:function(n,t){if(this.$7U&&this.$C3){this.$7U.get_$J().focus();var i=this.get_$12A();var u=this.get_$1Mj();var f=this.get_$1N();this.set_$1N(f.substring(0,i)+n+f.substr(i));if(!this.$1D.get_$7i()||Number.parseInvariant($.browser.version)>8){this.$7U.set_$uY(i);this.$7U.set_$1xi(u)}else{var r=document.selection.createRange();r.collapse(!0);r.moveStart("character",i-this.get_$12A());r.moveEnd("character",u-this.get_$1Mj());r.select()}}else{if($8(this.$DJ)){_js.Trace.logInfo(_a.$0.$3P,"RichTextEditor InsertContent - LegacyRichTextEditor is null, delaying insert");this.$qC=n;return}_js.Trace.logInfo(_a.$0.$3P,"RichTextEditor InsertContent - Ready to insert");this.$DJ.insertMarkupAtCursor(n,!1)}this.$7N7()},$8o1:function(n,t){if($8(this.$DJ)){_js.Trace.logInfo(_a.$0.$3P,"RichTextEditor InsertContent - LegacyRichTextEditor is null, delaying content type switching");this.$1DI=t;this.$2ZI=n;return}var i=null;if(n){i="Html";null!==t&&this.$DJ.setHtml(t)}else{i="plain text";null!==t&&this.set_$1N(t)}this.set_$1UU(!n);this.$8nz();_js.Trace.logInfo(_a.$0.$3P,"RichTextEditor SwitchContentType - Switched to "+i)},$8nz:function(){this.$DJ&&$2WF(this,!this.$C3);this.$1ga=this.$C3},$8zX:function(){this.$1OX(this.$2Mt,!0);if(this.$1D.get_$rk()&&this.$1D.get_$7i()&&this.$3V){var n=this.$3V.get_$J().get(0).contentWindow;if(!n)return;var t=n.getSelection();if(t.isCollapsed){var i=window.document.selection.createRange();i.select()}}},$7Dd:function(n){if(_y.$Uh.isInstanceOfType(n)){var r=n;this.$DJ._insertPlaceholderImage(r.$Z0,r.$1jv)}else if(_y.$hn.isInstanceOfType(n)){var t=n;if(this.$1D.get_$2oy())this.$DJ._replacePlaceholderImage(t.$Z0,t.$8F,t.$w9);else{var u=this;_js.$K.get_$L().$21(_a.$0.$3P,"RichTextEditor.ExecuteCall",function(){u.$DJ._replacePlaceholderImage(t.$Z0,t.$8F,t.$w9)},1e3)}}else if(_y.$fU.isInstanceOfType(n)){var f=n;this.$DJ._deletePlaceholderImage(f.$Z0)}else if(_y.$hl.isInstanceOfType(n)){var i=n;if(this.$1D.get_$2oy())this.$DJ._replaceInlineImageWithPlaceholder(i.$w9,i.$Z0);else{var e=this;_js.$K.get_$L().$21(_a.$0.$3P,"RichTextEditorWrapper.ExecuteCall",function(){e.$DJ._replaceInlineImageWithPlaceholder(i.$w9,i.$Z0)},1e3)}}else throw Error.invalidOperation("The call context type is not supported.");},$68z:function(n){var t=$1Nz(this);if(t)if(n){t.bind("copy",this.$$d_$Cq);t.bind("cut",this.$$d_$Cq);t.bind("dragstart",this.$$d_$Cq)}else $4cS(this,t)},$59:function(){$4cP(this);$6no(this);if(this.$Ls){this.$Ls.$1M();this.$Ls=null}this.$4kn();_js.$F.prototype.$59.call(this)},$4kn:function(){if(!$8(this.$DJ)){this.$DJ.dispose();this.$DJ=null}},$2L1:function(n){var t=n;if(t&&t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types)for(var u=t.originalEvent.clipboardData.types,e=u.length,r=0;r<e;++r){var f=u[r];if(f&&f.startsWith("image/")){_js.Trace.logInfo(_a.$0.$3P,"Pasting images into editor is not supported.");this.$Cq(n);return}}var i=_a.$HH.$52Y();if(this.$o7&&!_js.$8.$14(i)&&i.startsWith("{")&&i.endsWith("}")){this.set_$2Qq(i);this.$o7.$s();if(this.$pf){this.$Cq(n);this.set_$21A(!1)}}},$3v:function(n){if(!this.$7M){this.$217=$8(this.$S0);if(!this.$4Q&&!this.$217)if($8(this.$DJ)){var i=this.$3V.get_$J().get(0);var t=this;this.$2YT.$I(function(n){var u=t.$1He.get_$1d();if(i.contentWindow){t.$DJ=n.$I(t.$Wk.get_$J().get(0),i,t.$162.get_$J().get(0),t.$S0,t.$$d_$9D3,t.$$d_$9ES,t.$$d_$6vH,t.$$d_$8ff,t.$$d_$8iP);t.$1yV&&t.$5rA();if(t.$2PW){t.$DJ.focus();t.$2PW=!1}if(t.$1gb){t.$36d(t.$1oA);t.$1gb=!1}t.get_$y4()&&t.$68z(t.get_$y4());if(!$8(t.$qC)){t.$1OX(t.$qC,!1);t.$qC=null}if(!$8(t.$1DI)){t.$8o1(t.$2ZI,t.$1DI);t.$1DI=null}if(!$8(t.$1DH)){t.$1OX(t.$1DH,!0);t.$1DH=null}if($8(t.$1ga))if("Html"===u.get_$qX()){t.set_$1UU(!1);$2WF(t,!0)}else if("PlainText"===u.get_$qX()){t.set_$1UU(!0);$2WF(t,!1)}else _js.Trace.logError(_a.$0.$3P,"Not supported ComposeMarkup type.");else $2WF(t,!t.$1ga);var r=$1Nz(t);_a.$5m.$4gk(r);if(r){r.bind("paste",t.$$d_$2L1);r.attr("aria-label",t.$1jP)}if(t.$C3){var f=t.get_$1N();_js.$8.$c(f)&&f!==t.$S0&&t.set_$1N(t.$S0)}$4cO(t)}})}else $4cO(this)}},$5Gi:function(n){var t=$(n.target).contents();this.$2l3.$5GX(t)},$7VK:function(n){this.$3v(null);this.$3V.add_$Q8(this.$$d_$3v);this.$7U.add_$Q8(this.$$d_$3v)},$9ES:function(n){var t=_g.$S.get_$L().get_$1t();t.set_$3vg(new(_a.$U.$$(String))(n));_h.$2x.$H4(_g.$S.get_$L().get_$1t().$PB,OwaApplication.$1T)},$9D3:function(n){var t=_g.$S.get_$L().get_$1t();t.set_$3YS(n);_h.$2x.$H4(_g.$S.get_$L().get_$1t().$PB,OwaApplication.$1T)},$8ff:function(){this.get_$1Aa()&&this.get_$1Aa()()},$8iP:function(n,t){var i=new _a.$8G(this.$9I);i.$Q9(n,t,"")},$6vH:function(){this.$D6()},$Cq:function(n){_js.$F.prototype.$Cq.call(this,new _a.$A3(n))}};_y.$1G.$65S=function(n){_y.$1G.$65S.initializeBase(this,[n])};_y.$1G.$65S.prototype={get_$5Dd:function(){return!0}};function LegacyRTEComponent(){}LegacyRTEComponent.prototype={$1QB:function(n,t,i){var r=n.$5uT(_a.$BK);if(r.get_$A0()){var u=this;n.$9V(ImportedEditorFactory).$9Iz().$9J0(function(){var t=n.$5uT(_y.$N);return new ImportedEditorFactory(t.$$d_$rU||(t.$$d_$rU=Function.createDelegate(t,t.$rU)),new(_0365f.$3k.$$(_g.$Fi))(function(){return n.$5uT(_g.$S).get_$1t()}),i.get_$B5(),n.$5uT(_a.NativeBridge).$32)});var f=this;n.$9V(_js.$3F.$$(_z.$81)).$9J0(function(){return new(_js.$3F.$$(_z.$81))(function(t){var i=n.$5uT(_a.$5m);return new _y.$1G(t,n.$9HY(ImportedEditorFactory),new(_0365f.$3k.$$(_g.$Fi))(function(){return n.$5uT(_g.$S).get_$1t()}),n.$5uT(_b.$6V),i,n.$5uT(InlineImageLoader),n.$5uT(_0365f.$M),n.$5uT(_a.NativeBridge).$9I,n.$5uT(_a.$o))})})}else{var e=this;n.$9V(_js.$3F.$$(_z.$81)).$9J0(function(){return new(_js.$3F.$$(_z.$81))(function(t){return new _z.$7h(t,n.$5uT(_y.$N))})})}},$7Is:function(){return null}};_y._TI=function(){};_y._TI.$$cctor=function(){new _A("RichTextEditorView",function(){var n=_y._TI._hf.childNodes[0].cloneNode(!0);var u=new _js.$F(n.children[3]);var t=new _b.$Cu(_B.$4(n,[2,1]));t.$A(_E.$1(["IsPlainTextContent"],[_y._TI.$1IJ],null,"IsHidden",null,_y._TI.$9,1,_y._TI.$C,null,!0)).$A(_E.$1(["RawContent"],[_y._TI.$7qv],_y._TI.$7qw,"Text",_y._TI.$49,_y._TI.$42,2));t.set_$3("_y_2 customScrollBar _y_4");t.set_$Y(0);var i=new _b.$HX(_B.$4(n,[2,0]));i.$0(_E.$5(_u.Strings.l_MessageBody_AT_TextBox_Text,null,null,null,"Title",null,_y._TI.$1H,0)).$A(_E.$1(["IsPlainTextContent"],[_y._TI.$1IJ],null,"IsHidden",null,_y._TI.$9,1,null,null,!0));i.set_$3("_y_2 customScrollBar");var f=new _js.$F(n.children[2]);var r=new _js.$F(n.children[1]);r.$A(_E.$1(["EditorTabIndex"],[_y._TI.$5NA],null,"AriaTabIndex",null,_y._TI.$9O,1,null,null,0)).$A(_E.$1(["IsPlainTextContent"],[_y._TI.$1IJ],null,"IsHidden",null,_y._TI.$9,1,null,null,!0));r.set_$3("_y_3");var e=new _js.$F(n.children[0]);return new _B(n,[e,r,f,i,t,u]).R({EditorFormatBar:e,ClickableArea:r,EditorWrapper:f,EditorBody:i,TextEditorBody:t,divRszMnu:u})},Object,_y.$1G,!1,!1,!1,0)};_y._TI.$Bg=function(){var n=window.document.createElement("DIV");n.innerHTML="<div> <div class='formatbar'></div> <div></div> <div class='_y_5'> <iframe></iframe> <textarea autoid=\"_y_0\"></textarea> </div> <div class='ctxMnu ctxMnuIco contextMenuDropShadow'></div> </div>";_js.$F.get_$BK().appendChild(n);return n};_y._TI.$5NA=function(n){return n.$r9};_y._TI.$1IJ=function(n){return n.$C3};_y._TI.$7qv=function(n){return n.get_$33P()};_y._TI.$49=function(n){return n.get_$1N()};_y._TI.$9O=function(n,t){n.set_$Y(t)};_y._TI.$9=function(n,t){n.set_$15(t)};_y._TI.$1H=function(n,t){n.set_$5N(t)};_y._TI.$7qw=function(n,t){n.set_$33P(t)};_y._TI.$42=function(n,t){n.set_$1N(t)};_y.$1G.registerClass("_y.$1G",_z.$81);_y.$1G.$65S.registerClass("_y.$1G.$65S",_js.$F);LegacyRTEComponent.registerClass("LegacyRTEComponent",null,_a.$1C3);_y._TI.registerClass("_y._TI");_y._TI._hf=_y._TI.$Bg();_y._TI.$C=new _o365c.$8i;_y._TI.$$cctor()